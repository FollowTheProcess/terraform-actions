# Terraform Actions

[![License](https://img.shields.io/github/license/FollowTheProcess/terraform-actions)](https://github.com/FollowTheProcess/terraform-actions)
[![GitHub](https://img.shields.io/github/v/release/FollowTheProcess/terraform-actions?logo=github&sort=semver)](https://github.com/FollowTheProcess/terraform-actions)

Consistent, high quality, and configurable GitHub Actions for managing infrastructure with Terraform üèóÔ∏è

- [Terraform Actions](#terraform-actions)
  - [Plan](#plan)
    - [Inputs](#inputs)
    - [Outputs](#outputs)
    - [Usage](#usage)

## Plan

All Terraform things should start with a plan!

<!-- Docs below generated by action-docs -->

<!-- action-docs-all source=".github/workflows/Plan.yml" project="FollowTheProcess/terraform-actions/.github/workflows/Plan.yml" version="v1" -->
### Inputs

| name                | description                                                                                             | type     | required | default  |
| ------------------- | ------------------------------------------------------------------------------------------------------- | -------- | -------- | -------- |
| `terraform-version` | <p>The version of Terraform to install and run</p>                                                      | `string` | `false`  | `latest` |
| `timeout-minutes`   | <p>Maximum number of minutes to allow for workflow execution, will be cancelled when timeout is met</p> | `number` | `false`  | `10`     |
| `backend-config`    | <p>Optional path to a .tfbackend file (relative to <code>cwd</code>) to use for initialisation</p>      | `string` | `false`  | `""`     |
| `var-file`          | <p>Optional path to a .tfvars file (relative to <code>cwd</code>) to use for the plan</p>               | `string` | `false`  | `""`     |
| `cwd`               | <p>The working directory to be in for the entire workflow</p>                                           | `string` | `false`  | `.`      |

### Outputs

| name                 | description                                                                                                        |
| -------------------- | ------------------------------------------------------------------------------------------------------------------ |
| `plan-filename`      | <p>The filename of the produced .tfplan file, can be passed to actions/download-artifact as <code>path</code></p>  |
| `plan-artifact-name` | <p>The name of the uploaded artifact, can be passed to actions/download-artifact as <code>name</code></p>          |
| `plan-download-url`  | <p>The URL to download the produced plan</p>                                                                       |
| `github-run-id`      | <p>The ID of the GitHub Actions run publishing the plan, can be used by other actions/workflows to retrieve it</p> |

### Usage

```yaml
jobs:
  job1:
    uses: FollowTheProcess/terraform-actions/.github/workflows/Plan.yml@v1
    with:
      terraform-version:
      # The version of Terraform to install and run
      #
      # Type: string
      # Required: false
      # Default: latest

      timeout-minutes:
      # Maximum number of minutes to allow for workflow execution, will be cancelled when timeout is met
      #
      # Type: number
      # Required: false
      # Default: 10

      backend-config:
      # Optional path to a .tfbackend file (relative to `cwd`) to use for initialisation
      #
      # Type: string
      # Required: false
      # Default: ""

      var-file:
      # Optional path to a .tfvars file (relative to `cwd`) to use for the plan
      #
      # Type: string
      # Required: false
      # Default: ""

      cwd:
      # The working directory to be in for the entire workflow
      #
      # Type: string
      # Required: false
      # Default: .
```
<!-- action-docs-all source=".github/workflows/Plan.yml" project="FollowTheProcess/terraform-actions/.github/workflows/Plan.yml" version="v1" -->